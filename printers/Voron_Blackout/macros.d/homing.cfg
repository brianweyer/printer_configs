[gcode_macro SAFE_HOME_ALL]
gcode:
  {% if params.RESET %}
    SET_KINEMATIC_POSITION X=0 Y=0 Z=0
  {% endif %}
  G0 Z20 F600
  SAFE_HOME_Y
  G28

[gcode_macro SAFE_HOME_Y]
gcode:
  G28 Y
  SAFE_Y

[gcode_macro SAFE_Y]
gcode:
  G1 Y100 F6000

[gcode_macro CENTER_GANTRY]
gcode:
  G1 Y175 X175 Z20 F6000

[gcode_macro HOME_ALL]
gcode:
  G28 X Y Z

[gcode_macro LEVEL_GANTRY]
gcode:
  {% if not printer.quad_gantry_level.applied %}
    SET_DISPLAY_AND_CONSOLE_LOG MESSAGE="Starting QGL"
    SAFE_HOME_ALL
    CENTER_GANTRY
    QUAD_GANTRY_LEVEL
    SAFE_HOME_ALL
    CENTER_GANTRY
  {% endif %}